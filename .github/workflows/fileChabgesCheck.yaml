name: File Changes Action

on: push

jobs:
  build:
    env:
      IS_TMPL_FILES_CHANGED:  "false"
      POM_VERSION: ""  
    runs-on: ubuntu-latest
    steps:
      - uses: jitterbit/get-changed-files@v1
        id: abc
        with:
          format: space-delimited
      - name: Printing
        run: |
          echo "All:"
          echo "${{ steps.abc.outputs.all }} contains tmpl ${{contains(steps.abc.outputs.all,'tmpl')}}"
        
          echo "::set-env name=fileName::das"
          echo "fileName value ${fileName}"
          echo "Added:"
          echo "${{ steps.abc.outputs.added }} cont ${{contains(steps.abc.outputs.added,'tmpl')}} "
          echo "::set-env name=env.IS_TMPL_FILES_CHANGED::${{contains(steps.abc.outputs.all,'tmpl')}}"
          echo "Removed: ${{env.IS_TMPL_FILES_CHANGED}}"
          echo "${{ steps.abc.outputs.removed }}"
          
      - name: Set env
        run: echo ::set-env name=IS_TMPL_FILES_CHANGED::${{contains(steps.abc.outputs.all,'tmpl')}}
        
      - name: Print env
        run: echo   $IS_TMPL_FILES_CHANGED
        
      - name: Get POM version
        run : |
            git clone https://github.com/das-devi/SPRINGRESTAPP01.git
            cd SPRINGRESTAPP01      
            POM_VERSION=`cat variables`
            echo ${POM_VERSION}
            POM_VERSION=$(<variables)
            echo ${POM_VERSION}
            
      - name: Print pom version
        run: echo ${POM_VERSION}
         
             
          
    
       
